(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{123:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=n.p+"static/media/logo.384faaa0.svg",s=n(22),l=n.n(s),u={Check:function(){var e=!1;return"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||(e=!0),e?"http://localhost:5000":""},Set:function(){return l.a.get(j+"/api/csrf",{withCredentials:!0}).then((function(e){return e.data["X-CSRFToken"]})).then((function(e){return e}))},Test:function(){return l.a.get(j+"/api/test",{withCredentials:!0}).then((function(e){return e}))}},j=u.Check(),d=u,h=n(56),b=n(165),g=n(156),O=n(166),f=n(158),x=n(169),m=n(164),p=n(12),v=n(157),C=n(171),S=n(153),y=n(80),w=n(4),k=r.a.createContext({currentTheme:"dark",setTheme:null}),I=function(e){var t=e.children,n=localStorage.getItem("appTheme")||"dark",a=r.a.useState(n),c=Object(p.a)(a,2),o=c[0],i=c[1],s=Object(y.a)({palette:{type:o,primary:{main:"#673ab7"},secondary:{main:"#00b0ff"}}}),l={currentTheme:o,setTheme:function(e){localStorage.setItem("appTheme",e),i(e)}};return Object(w.jsx)(k.Provider,{value:l,children:Object(w.jsx)(S.a,{theme:s,children:t})})},T=n(78),F=n.n(T),L=n(79),P=n.n(L),W=n(83);function q(){var e=r.a.useState(!0),t=Object(p.a)(e,2),n=t[0],a=t[1],c=r.a.useContext(k).setTheme,o=function(){return n?Object(w.jsx)(W.a,{children:Object(w.jsx)(F.a,{color:"primary"})}):Object(w.jsx)(W.a,{children:Object(w.jsx)(P.a,{color:"secondary"})})};return Object(w.jsx)(g.a,{row:!0,children:Object(w.jsxs)(v.a,{container:!0,direction:"row",alignItems:"center",children:[Object(w.jsx)(v.a,{item:!0,children:Object(w.jsx)(C.a,{checked:n,onChange:function(e){var t=e.target.checked;a(t),c(t?"dark":"light")},name:"ThemeSlider",color:"primary"})}),Object(w.jsx)(v.a,{item:!0,children:Object(w.jsx)(o,{})})]})})}var A=n(172),N=n(160),R=n(161),U=n(162),E=n(168),X=n(163),B=n(23),D=d.Check();function H(e){var t=e.setAuthUser,n=r.a.useState(!1),a=Object(p.a)(n,2),c=a[0],o=a[1],i=r.a.useState(""),s=Object(p.a)(i,2),u=s[0],j=s[1],d=r.a.useState(""),h=Object(p.a)(d,2),b=h[0],g=h[1],O=function(){o(!1),g("")};return Object(w.jsxs)("div",{children:[Object(w.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Login"}),Object(w.jsxs)(A.a,{open:c,onClose:O,"aria-labelledby":"form-dialog-title",children:[Object(w.jsx)(N.a,{id:"form-dialog-title",children:"Login"}),Object(w.jsxs)("form",{children:[Object(w.jsxs)(R.a,{children:[Object(w.jsx)(U.a,{children:"Sign in here!"}),Object(w.jsx)(E.a,{required:!0,label:"Email",type:"email",value:u,onInput:function(e){return j(e.target.value)},fullWidth:!0}),Object(w.jsx)(E.a,{required:!0,label:"Password",type:"password",value:b,onInput:function(e){return g(e.target.value)},fullWidth:!0})]}),Object(w.jsxs)(X.a,{children:[Object(w.jsx)(f.a,{onClick:O,color:"secondary",children:"Cancel"}),Object(w.jsx)(f.a,{onClick:function(e){e.preventDefault(),function(e,t){l.a.post(D+"/api/auth/login",e,{withCredentials:!0}).then((function(e){B.b.success("You have been logged in, "+e.data.name),t(!0)})).catch((function(e){B.b.error("Ohh no something went wrong"),console.log(e)}))}({email:u,password:b},t)},type:"submit",color:"secondary",autoFocus:!0,children:"Sign In"})]})]})]})]})}function J(){var e=r.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),o=Object(p.a)(c,2),i=o[0],s=o[1],u=r.a.useState(""),j=Object(p.a)(u,2),d=j[0],h=j[1],b=r.a.useState(""),g=Object(p.a)(b,2),O=g[0],x=g[1],m=r.a.useState(""),v=Object(p.a)(m,2),C=v[0],S=v[1],y=r.a.useState(""),k=Object(p.a)(y,2),I=k[0],T=k[1],F=r.a.useState(""),L=Object(p.a)(F,2),P=L[0],W=L[1],q=r.a.useState(!1),H=Object(p.a)(q,2),J=H[0],Y=H[1],M=r.a.useState(""),z=Object(p.a)(M,2),G=z[0],K=z[1],Q=r.a.useState(!0),V=Object(p.a)(Q,2),Z=V[0],$=V[1],_=function(){a(!1),$(!0),s(""),h(""),x(""),S(""),T(""),W("")};r.a.useEffect((function(){I===P&&""!==I?(Y(!1),K(""),$(!1)):(Y(!0),K("Passwords do not match"),$(!0))}),[I,P]);return Object(w.jsxs)("div",{children:[Object(w.jsx)(f.a,{variant:"outlined",color:"primary",onClick:function(){a(!0)},children:"Sign up"}),Object(w.jsxs)(A.a,{open:n,onClose:_,"aria-labelledby":"form-dialog-title",children:[Object(w.jsx)(N.a,{id:"form-dialog-title",children:"Create Account"}),Object(w.jsxs)("form",{children:[Object(w.jsxs)(R.a,{children:[Object(w.jsx)(U.a,{children:"If you dont have an account, you can create one here"}),Object(w.jsx)(E.a,{required:!0,label:"Email",type:"email",value:i,onInput:function(e){return s(e.target.value)},fullWidth:!0}),Object(w.jsx)(E.a,{required:!0,label:"First Name",type:"text",onInput:function(e){return h(e.target.value)},fullWidth:!0}),Object(w.jsx)(E.a,{required:!0,label:"Last Name",value:O,onInput:function(e){return x(e.target.value)},fullWidth:!0}),Object(w.jsx)(E.a,{required:!0,label:"Phone Number",value:C,onInput:function(e){return S(e.target.value)},fullWidth:!0}),Object(w.jsx)(E.a,{required:!0,label:"Password",type:"password",value:I,onInput:function(e){return T(e.target.value)},fullWidth:!0,error:J}),Object(w.jsx)(E.a,{required:!0,label:"Confrim Password",type:"password",value:P,onInput:function(e){return W(e.target.value)},fullWidth:!0,error:J,helperText:G})]}),Object(w.jsxs)(X.a,{children:[Object(w.jsx)(f.a,{onClick:_,color:"secondary",children:"Cancel"}),Object(w.jsx)(f.a,{onClick:function(e){var t;e.preventDefault(),t={email:i,fname:d,lname:O,phoneNumber:C},l.a.post(D+"/api/auth/create",t,{withCredentials:!0}).then((function(e){return B.b.success(e.data.message),e})).catch((function(e){B.b.error("Ohh no something went wrong"),console.log(e)}))},type:"submit",color:"secondary",autoFocus:!0,disabled:Z,children:"Create Account"})]})]})]})]})}function Y(e){var t=e.setAuthUser;return Object(w.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){return function(e){return l.a.get(D+"/api/auth/logout",{withCredentials:!0}).then((function(t){return B.b.success(t.data.message),e(!1),localStorage.clear(),t})).catch((function(e){B.b.error("Ohh no something went wrong"),console.log(e)}))}(t)},children:"Logout"})}var M=Object(m.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var z=function(e){var t=e.isLoggedIn,n=e.setAuthUser,a=M();return Object(w.jsx)(g.a,{row:!0,className:a.root,children:t?Object(w.jsx)(Y,{setAuthUser:n}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(J,{}),Object(w.jsx)(H,{setAuthUser:n})]})})},G=r.a.createContext({isLoggedIn:!1,header:"",setHeader:null,setLoggedin:null}),K=function(e){var t=e.children,n=r.a.useState(""),a=Object(p.a)(n,2),c=a[0],o=a[1];localStorage.getItem("X-CSRFToken")||d.Set().then((function(e){o(e),localStorage.setItem("X-CSRFToken",c)})),l.a.defaults.headers.common["X-CSRFToken"]=c,localStorage.setItem("X-CSRFToken",c);var i=r.a.useState(!1),s=Object(p.a)(i,2),u=s[0],j=s[1];r.a.useEffect((function(){l.a.get(D+"/api/check",{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){B.b.error("Ohh no something went wrong"),console.log(e)})).then((function(e){j(e.status),e.sess||d.Set().then((function(e){o(e)}))}))}));var h={isLoggedIn:u,header:c,setHeader:function(e){o(e)},setLoggedin:function(e){j(e)}};return Object(w.jsx)(G.Provider,{value:h,children:t})};function Q(){return Object(w.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(w.jsx)(b.a,{color:"inherit",href:"/",children:"Skulldorom/Template"})," ",(new Date).getFullYear(),"."]})}var V=Object(m.a)((function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},box:{alignItems:"center",justifyContent:"center"},right:{float:"right"}}}));var Z=function(){var e=V(),t=r.a.useContext(G),n=t.isLoggedIn,a=t.setLoggedin;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(g.a,{row:!0,className:e.right,children:[Object(w.jsx)(q,{}),Object(w.jsx)(z,{isLoggedIn:n,setAuthUser:a})]}),Object(w.jsxs)(O.a,{maxWidth:"lg",className:e.container,children:[Object(w.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(w.jsx)("img",{src:i,style:{height:"300px"},alt:"logo"})}),Object(w.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(w.jsx)(f.a,{variant:"outlined",color:"secondary",onClick:function(){return d.Test()},children:"Test (Prints in the backend)"})}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)(h.a,{variant:"h3",color:"primary",align:"center",children:["Logged in? ",String(n)]})]}),Object(w.jsx)(x.a,{pt:4,children:Object(w.jsx)(Q,{})})]})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},_=n(167);n(122);document.title="Flask React",o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(K,{children:Object(w.jsxs)(I,{children:[Object(w.jsx)(B.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(w.jsx)(_.a,{}),Object(w.jsx)(Z,{})]})})}),document.getElementById("root")),$()}},[[123,1,2]]]);
//# sourceMappingURL=main.7df778c7.chunk.js.map