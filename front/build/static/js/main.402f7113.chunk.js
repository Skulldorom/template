(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=n.p+"static/media/logo.384faaa0.svg",i=n(19),l=n.n(i),u={Check:function(){var e=!1;return"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||(e=!0),e?"http://localhost:5000":""},Set:function(){return l.a.get(j+"/api/csrf",{withCredentials:!0}).then((function(e){return e.data["X-CSRFToken"]})).then((function(e){return e}))},Test:function(){return l.a.get(j+"/api/test",{withCredentials:!0}).then((function(e){return e}))}},j=u.Check(),d=u,h=n(55),b=n(178),O=n(179),g=n(180),x=n(165),f=n(163),m=n(181),p=n(167),v=n(184),w=n(83),C=n.n(w),y=n(166),S=n(12),k=n(164),F=n(187),T=n(160),I=n(84),L=n(3),N=r.a.createContext({currentTheme:"dark",setTheme:null}),P=function(e){var t=e.children,n=localStorage.getItem("appTheme")||"dark",a=r.a.useState(n),c=Object(S.a)(a,2),o=c[0],s=c[1],i=Object(I.a)({palette:{type:o,primary:{main:"#673ab7"},secondary:{main:"#00b0ff"}}}),l={currentTheme:o,setTheme:function(e){localStorage.setItem("appTheme",e),s(e)}};return Object(L.jsx)(N.Provider,{value:l,children:Object(L.jsx)(T.a,{theme:i,children:t})})},A=n(81),D=n.n(A),q=n(82),W=n.n(q),B=n(87);function R(){var e=r.a.useState(!0),t=Object(S.a)(e,2),n=t[0],a=t[1],c=r.a.useContext(N).setTheme,o=function(){return n?Object(L.jsx)(B.a,{children:Object(L.jsx)(D.a,{color:"primary"})}):Object(L.jsx)(B.a,{children:Object(L.jsx)(W.a,{color:"secondary"})})};return Object(L.jsx)(f.a,{row:!0,children:Object(L.jsxs)(k.a,{container:!0,direction:"row",alignItems:"center",children:[Object(L.jsx)(k.a,{item:!0,children:Object(L.jsx)(F.a,{checked:n,onChange:function(e){var t=e.target.checked;a(t),c(t?"dark":"light")},name:"ThemeSlider",color:"primary"})}),Object(L.jsx)(k.a,{item:!0,children:Object(L.jsx)(o,{})})]})})}var E=n(186),U=n(168),X=n(169),M=n(170),H=n(183),J=n(172),Y=n(188),G=n(171),z=n(174),K=n(177),Q=n(173),V=n(175),Z=n(176),$=n(25),_=d.Check();var ee=Object(y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},textfield:{marginBottom:"10px"}}}));function te(e){var t=e.setAuthUser,n=r.a.useState(!1),a=Object(S.a)(n,2),c=a[0],o=a[1],s=r.a.useState(""),i=Object(S.a)(s,2),u=i[0],j=i[1],d=r.a.useState(""),h=Object(S.a)(d,2),b=h[0],O=h[1],g=r.a.useState(!1),f=Object(S.a)(g,2),m=f[0],v=f[1],w=ee(),C=function(){o(!1),O("")};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Login"}),Object(L.jsxs)(E.a,{open:c,onClose:C,"aria-labelledby":"Login-Form",children:[Object(L.jsx)(U.a,{id:"Login-Form",children:"Login"}),Object(L.jsxs)("form",{children:[Object(L.jsxs)(X.a,{children:[Object(L.jsx)(M.a,{children:"Sign in here!"}),Object(L.jsx)(H.a,{required:!0,className:w.textfield,label:"Email",type:"email",value:u,onInput:function(e){return j(e.target.value)},fullWidth:!0}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,className:w.textfield,children:[Object(L.jsx)(Y.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(G.a,{id:"password",type:m?"text":"password",value:b,onChange:function(e){return O(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:function(){v(!m)},onMouseDown:function(e){e.preventDefault()},colour:"secondary",children:m?Object(L.jsx)(V.a,{}):Object(L.jsx)(Z.a,{})})})})]})]}),Object(L.jsxs)(K.a,{children:[Object(L.jsx)(p.a,{onClick:C,color:"secondary",children:"Cancel"}),Object(L.jsx)(p.a,{onClick:function(e){e.preventDefault(),function(e,t){l.a.post(_+"/api/auth/login",e,{withCredentials:!0}).then((function(e){$.b.success("You have been logged in, "+e.data.name),t(!0)})).catch((function(e){$.b.error("Ohh no something went wrong"),console.log(e)}))}({email:u,password:b},t)},type:"submit",color:"secondary",autoFocus:!0,children:"Sign In"})]})]})]})]})}function ne(){var e=r.a.useState(!1),t=Object(S.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),o=Object(S.a)(c,2),s=o[0],i=o[1],u=r.a.useState(""),j=Object(S.a)(u,2),d=j[0],h=j[1],b=r.a.useState(""),O=Object(S.a)(b,2),g=O[0],f=O[1],m=r.a.useState(""),v=Object(S.a)(m,2),w=v[0],C=v[1],y=r.a.useState(""),k=Object(S.a)(y,2),F=k[0],T=k[1],I=r.a.useState(""),N=Object(S.a)(I,2),P=N[0],A=N[1],D=r.a.useState(!1),q=Object(S.a)(D,2),W=q[0],B=q[1],R=r.a.useState(""),te=Object(S.a)(R,2),ne=te[0],ae=te[1],re=r.a.useState(!0),ce=Object(S.a)(re,2),oe=ce[0],se=ce[1],ie=r.a.useState(!1),le=Object(S.a)(ie,2),ue=le[0],je=le[1],de=ee(),he=function(){a(!1),se(!0),i(""),h(""),f(""),C(""),T(""),A("")},be=function(){je(!ue)},Oe=function(e){e.preventDefault()};r.a.useEffect((function(){F===P?(B(!1),ae(""),se(!1)):(B(!0),ae("Passwords do not match"),se(!0))}),[F,P]);return Object(L.jsxs)("div",{children:[Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){a(!0)},children:"Sign up"}),Object(L.jsxs)(E.a,{open:n,onClose:he,children:[Object(L.jsx)(U.a,{children:"Create Account"}),Object(L.jsxs)("form",{children:[Object(L.jsxs)(X.a,{children:[Object(L.jsx)(M.a,{children:"If you dont have an account, you can create one here"}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Email",type:"email",value:s,onInput:function(e){return i(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"First Name",type:"text",onInput:function(e){return h(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Last Name",value:g,onInput:function(e){return f(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Phone Number",value:w,onInput:function(e){return C(e.target.value)},fullWidth:!0}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,error:W,className:de.textfield,children:[Object(L.jsx)(Y.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(G.a,{id:"password",type:ue?"text":"password",value:F,onChange:function(e){return T(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:be,onMouseDown:Oe,colour:"secondary",children:ue?Object(L.jsx)(V.a,{}):Object(L.jsx)(Z.a,{})})})})]}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,error:W,className:de.textfield,children:[Object(L.jsx)(Y.a,{htmlFor:"Confrim-Password",children:"Confrim Password"}),Object(L.jsx)(G.a,{id:"Confrim-Password",type:ue?"text":"password",value:P,onChange:function(e){return A(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:be,onMouseDown:Oe,colour:"secondary",children:ue?Object(L.jsx)(V.a,{}):Object(L.jsx)(Z.a,{})})})}),W?Object(L.jsx)(Q.a,{children:ne}):null]})]}),Object(L.jsxs)(K.a,{children:[Object(L.jsx)(p.a,{onClick:he,color:"secondary",children:"Cancel"}),Object(L.jsx)(p.a,{onClick:function(e){var t;e.preventDefault(),t={email:s,fname:d,lname:g,password:F,telephone:w},l.a.post(_+"/api/auth/create",t,{withCredentials:!0}).then((function(e){return $.b.success(e.data.message),e})).catch((function(e){$.b.error("Ohh no something went wrong"),console.log(e)}))},type:"submit",color:"secondary",autoFocus:!0,disabled:oe,children:"Create Account"})]})]})]})]})}function ae(e){var t=e.setAuthUser;return Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return function(e){return l.a.get(_+"/api/auth/logout",{withCredentials:!0}).then((function(t){return $.b.success(t.data.message),e(!1),localStorage.clear(),t})).catch((function(e){$.b.error("Ohh no something went wrong"),console.log(e)}))}(t)},children:"Logout"})}var re=function(e){var t=e.isLoggedIn,n=e.setAuthUser,a=ee();return Object(L.jsx)(f.a,{row:!0,className:a.root,children:t?Object(L.jsx)(ae,{setAuthUser:n}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ne,{}),Object(L.jsx)(te,{setAuthUser:n})]})})},ce=r.a.createContext({isLoggedIn:!1,header:"",setHeader:null,setLoggedin:null}),oe=function(e){var t=e.children,n=r.a.useState(""),a=Object(S.a)(n,2),c=a[0],o=a[1];localStorage.getItem("X-CSRFToken")||d.Set().then((function(e){o(e),localStorage.setItem("X-CSRFToken",c)})),l.a.defaults.headers.common["X-CSRFToken"]=c,localStorage.setItem("X-CSRFToken",c);var s=r.a.useState(!1),i=Object(S.a)(s,2),u=i[0],j=i[1];r.a.useEffect((function(){l.a.get(_+"/api/check",{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){$.b.error("Ohh no something went wrong"),console.log(e)})).then((function(e){j(e.status),e.sess||d.Set().then((function(e){o(e)}))}))}));var h={isLoggedIn:u,header:c,setHeader:function(e){o(e)},setLoggedin:function(e){j(e)}};return l.a.interceptors.response.use((function(e){return e}),(function(e){if(400===e.response.status)throw d.Set().then((function(e){o(e)})),new Error("".concat(e.config.url," not found"));throw e})),Object(L.jsx)(ce.Provider,{value:h,children:t})};function se(){return Object(L.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(L.jsx)(b.a,{color:"inherit",href:"/",children:"Skulldorom/Template"})," ",(new Date).getFullYear(),"."]})}var ie=Object(y.a)((function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},box:{alignItems:"center",justifyContent:"center"},right:{float:"right"}}}));var le=function(){var e=ie(),t=r.a.useContext(ce),n=t.isLoggedIn,a=t.setLoggedin;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(O.a,{position:"static",color:"transparent",children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(L.jsx)(C.a,{})}),Object(L.jsx)(h.a,{variant:"h6",className:e.title,children:"Template"}),Object(L.jsxs)(f.a,{row:!0,className:e.right,children:[Object(L.jsx)(R,{}),Object(L.jsx)(re,{isLoggedIn:n,setAuthUser:a})]})]})}),Object(L.jsxs)(m.a,{className:e.container,children:[Object(L.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(L.jsx)("img",{src:s,style:{height:"300px"},alt:"logo"})}),Object(L.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(L.jsx)(p.a,{variant:"outlined",color:"secondary",onClick:function(){return d.Test()},children:"Test (Prints in the backend)"})}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsxs)(h.a,{variant:"h3",color:"primary",align:"center",children:["Logged in? ",String(n)]})]}),Object(L.jsx)(v.a,{pt:4,children:Object(L.jsx)(se,{})})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},je=n(182);n(127);document.title="Flask React",o.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(oe,{children:Object(L.jsxs)(P,{children:[Object(L.jsx)($.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(L.jsx)(je.a,{}),Object(L.jsx)(le,{})]})})}),document.getElementById("root")),ue()}},[[128,1,2]]]);
//# sourceMappingURL=main.402f7113.chunk.js.map