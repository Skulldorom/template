(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),s=n.p+"static/media/logo.384faaa0.svg",i=n(19),l=n.n(i),u={Check:function(){var e=!1;return"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||(e=!0),e?"http://localhost:5000":""},Set:function(){return l.a.get(j+"/api/csrf",{withCredentials:!0}).then((function(e){return e.data["X-CSRFToken"]})).then((function(e){return e}))},Test:function(){return l.a.get(j+"/api/test",{withCredentials:!0}).then((function(e){return e}))}},j=u.Check(),d=u,h=n(47),b=n(179),O=n(180),g=n(181),x=n(165),m=n(163),f=n(182),p=n(167),v=n(185),w=n(83),C=n.n(w),S=n(166),y=n(12),k=n(164),F=n(188),I=n(160),T=n(84),L=n(3),N=r.a.createContext({currentTheme:"dark",setTheme:null}),P=function(e){var t=e.children,n=localStorage.getItem("appTheme")||"dark",a=r.a.useState(n),c=Object(y.a)(a,2),o=c[0],s=c[1],i=Object(T.a)({palette:{type:o,primary:{main:"#673ab7"},secondary:{main:"#00b0ff"}}}),l={currentTheme:o,setTheme:function(e){localStorage.setItem("appTheme",e),s(e)}};return Object(L.jsx)(N.Provider,{value:l,children:Object(L.jsx)(I.a,{theme:i,children:t})})},A=n(81),R=n.n(A),D=n(82),q=n.n(D),W=n(87);function B(){var e=r.a.useContext(N),t=e.currentTheme,n=e.setTheme,a=r.a.useState("dark"===t),c=Object(y.a)(a,2),o=c[0],s=c[1],i=function(){return o?Object(L.jsx)(W.a,{children:Object(L.jsx)(R.a,{color:"primary"})}):Object(L.jsx)(W.a,{children:Object(L.jsx)(q.a,{color:"secondary"})})};return Object(L.jsx)(m.a,{row:!0,children:Object(L.jsxs)(k.a,{container:!0,direction:"row",alignItems:"center",children:[Object(L.jsx)(k.a,{item:!0,children:Object(L.jsx)(F.a,{checked:o,onChange:function(e){var t=e.target.checked;s(t),n(t?"dark":"light")},name:"ThemeSlider",color:"primary"})}),Object(L.jsx)(k.a,{item:!0,children:Object(L.jsx)(i,{})})]})})}var E=n(187),U=n(168),M=n(169),X=n(170),H=n(184),J=n(172),G=n(189),Y=n(171),z=n(174),K=n(177),Q=n(178),V=n(173),Z=n(175),$=n(176),_=n(20),ee=d.Check();var te=Object(S.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},textfield:{marginBottom:"10px"}}}));function ne(e){var t=e.setAuthUser,n=r.a.useState(!1),a=Object(y.a)(n,2),c=a[0],o=a[1],s=r.a.useState(""),i=Object(y.a)(s,2),u=i[0],j=i[1],d=r.a.useState(""),h=Object(y.a)(d,2),b=h[0],O=h[1],g=r.a.useState(!1),f=Object(y.a)(g,2),v=f[0],w=f[1],C=r.a.useState(!1),S=Object(y.a)(C,2),k=S[0],I=S[1],T=te(),N=function(){o(!1),O("")};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Login"}),Object(L.jsxs)(E.a,{open:c,onClose:N,"aria-labelledby":"Login-Form",children:[Object(L.jsx)(U.a,{id:"Login-Form",children:"Login"}),Object(L.jsxs)("form",{children:[Object(L.jsxs)(M.a,{children:[Object(L.jsx)(X.a,{children:"Sign in here!"}),Object(L.jsx)(H.a,{required:!0,className:T.textfield,label:"Email",type:"email",value:u,onInput:function(e){return j(e.target.value)},fullWidth:!0}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,className:T.textfield,children:[Object(L.jsx)(G.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(Y.a,{id:"password",type:v?"text":"password",value:b,onChange:function(e){return O(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:function(){w(!v)},onMouseDown:function(e){e.preventDefault()},colour:"secondary",children:v?Object(L.jsx)(Z.a,{}):Object(L.jsx)($.a,{})})})})]}),Object(L.jsx)(m.a,{row:!0,children:Object(L.jsx)(K.a,{control:Object(L.jsx)(F.a,{checked:k,onChange:function(e){I(e.target.checked)},name:"remember"}),label:"Remember Me"})})]}),Object(L.jsxs)(Q.a,{children:[Object(L.jsx)(p.a,{onClick:N,color:"secondary",children:"Cancel"}),Object(L.jsx)(p.a,{onClick:function(e){e.preventDefault(),function(e,t){var n=e.remember;l.a.post(ee+"/api/auth/login",e,{withCredentials:!0}).then((function(e){"success"===e.data.status?(_.b.success(e.data.message),localStorage.setItem("Remember",n),t(!0)):_.b.warning(e.data.message)})).catch((function(e){_.b.error("Ohh no something went wrong"),console.log(e)}))}({email:u,password:b,remember:k},t)},type:"submit",color:"secondary",autoFocus:!0,children:"Sign In"})]})]})]})]})}function ae(){var e=r.a.useState(!1),t=Object(y.a)(e,2),n=t[0],a=t[1],c=r.a.useState(""),o=Object(y.a)(c,2),s=o[0],i=o[1],u=r.a.useState(""),j=Object(y.a)(u,2),d=j[0],h=j[1],b=r.a.useState(""),O=Object(y.a)(b,2),g=O[0],m=O[1],f=r.a.useState(""),v=Object(y.a)(f,2),w=v[0],C=v[1],S=r.a.useState(""),k=Object(y.a)(S,2),F=k[0],I=k[1],T=r.a.useState(""),N=Object(y.a)(T,2),P=N[0],A=N[1],R=r.a.useState(!1),D=Object(y.a)(R,2),q=D[0],W=D[1],B=r.a.useState(""),K=Object(y.a)(B,2),ne=K[0],ae=K[1],re=r.a.useState(!0),ce=Object(y.a)(re,2),oe=ce[0],se=ce[1],ie=r.a.useState(!1),le=Object(y.a)(ie,2),ue=le[0],je=le[1],de=te(),he=function(){a(!1),se(!0),i(""),h(""),m(""),C(""),I(""),A("")},be=function(){je(!ue)},Oe=function(e){e.preventDefault()};r.a.useEffect((function(){F===P?(W(!1),ae(""),se(!1)):(W(!0),ae("Passwords do not match"),se(!0))}),[F,P]);return Object(L.jsxs)("div",{children:[Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){a(!0)},children:"Sign up"}),Object(L.jsxs)(E.a,{open:n,onClose:he,children:[Object(L.jsx)(U.a,{children:"Create Account"}),Object(L.jsxs)("form",{children:[Object(L.jsxs)(M.a,{children:[Object(L.jsx)(X.a,{children:"If you dont have an account, you can create one here"}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Email",type:"email",value:s,onInput:function(e){return i(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"First Name",type:"text",onInput:function(e){return h(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Last Name",value:g,onInput:function(e){return m(e.target.value)},fullWidth:!0}),Object(L.jsx)(H.a,{className:de.textfield,required:!0,label:"Phone Number",value:w,onInput:function(e){return C(e.target.value)},fullWidth:!0}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,error:q,className:de.textfield,children:[Object(L.jsx)(G.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(Y.a,{id:"password",type:ue?"text":"password",value:F,onChange:function(e){return I(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:be,onMouseDown:Oe,colour:"secondary",children:ue?Object(L.jsx)(Z.a,{}):Object(L.jsx)($.a,{})})})})]}),Object(L.jsxs)(J.a,{required:!0,fullWidth:!0,error:q,className:de.textfield,children:[Object(L.jsx)(G.a,{htmlFor:"Confrim-Password",children:"Confrim Password"}),Object(L.jsx)(Y.a,{id:"Confrim-Password",type:ue?"text":"password",value:P,onChange:function(e){return A(e.target.value)},endAdornment:Object(L.jsx)(z.a,{position:"end",children:Object(L.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:be,onMouseDown:Oe,colour:"secondary",children:ue?Object(L.jsx)(Z.a,{}):Object(L.jsx)($.a,{})})})}),q?Object(L.jsx)(V.a,{children:ne}):null]})]}),Object(L.jsxs)(Q.a,{children:[Object(L.jsx)(p.a,{onClick:he,color:"secondary",children:"Cancel"}),Object(L.jsx)(p.a,{onClick:function(e){var t;e.preventDefault(),t={email:s,fname:d,lname:g,password:F,telephone:w},l.a.post(ee+"/api/auth/create",t,{withCredentials:!0}).then((function(e){return _.b.success(e.data.message),e})).catch((function(e){_.b.error("Ohh no something went wrong"),console.log(e)}))},type:"submit",color:"secondary",autoFocus:!0,disabled:oe,children:"Create Account"})]})]})]})]})}function re(e){var t=e.setAuthUser;return Object(L.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return function(e){return l.a.get(ee+"/api/auth/logout",{withCredentials:!0}).then((function(t){return _.b.info(t.data.message),e(!1),t})).catch((function(e){_.b.error("Ohh no something went wrong"),console.log(e)}))}(t)},children:"Logout"})}var ce=function(e){var t=e.isLoggedIn,n=e.setAuthUser,a=te();return Object(L.jsx)(m.a,{row:!0,className:a.root,children:t?Object(L.jsx)(re,{setAuthUser:n}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ae,{}),Object(L.jsx)(ne,{setAuthUser:n})]})})},oe=r.a.createContext({isLoggedIn:!1,header:"",setHeader:null,setLoggedin:null}),se=function(e){var t=e.children,n=r.a.useState(""),a=Object(y.a)(n,2),c=a[0],o=a[1];localStorage.getItem("X-CSRFToken")||d.Set().then((function(e){o(e),localStorage.setItem("X-CSRFToken",c)})),l.a.defaults.headers.common["X-CSRFToken"]=c,localStorage.setItem("X-CSRFToken",c);var s=r.a.useState(!1),i=Object(y.a)(s,2),u=i[0],j=i[1];r.a.useEffect((function(){l.a.get(ee+"/api/check",{withCredentials:!0}).then((function(e){return e.data})).catch((function(e){_.b.error("Ohh no something went wrong"),console.log(e)})).then((function(e){"true"===localStorage.getItem("Remember")&&j(e.status),e.sess||d.Set().then((function(e){o(e)}))}))}));var h={isLoggedIn:u,header:c,setHeader:function(e){o(e)},setLoggedin:function(e){j(e)}};return l.a.interceptors.response.use((function(e){return e}),(function(e){if(400===e.response.status)throw d.Set().then((function(e){o(e)})),new Error("".concat(e.config.url," not found"));throw e})),Object(L.jsx)(oe.Provider,{value:h,children:t})};function ie(){return Object(L.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(L.jsx)(b.a,{color:"inherit",href:"/",children:"Skulldorom/Template"})," ",(new Date).getFullYear(),"."]})}var le=Object(S.a)((function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},box:{alignItems:"center",justifyContent:"center"},right:{float:"right"}}}));var ue=function(){var e=le(),t=r.a.useContext(oe),n=t.isLoggedIn,a=t.setLoggedin;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(O.a,{position:"static",color:"transparent",children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(L.jsx)(C.a,{})}),Object(L.jsx)(h.a,{variant:"h6",className:e.title,children:"Template"}),Object(L.jsxs)(m.a,{row:!0,className:e.right,children:[Object(L.jsx)(B,{}),Object(L.jsx)(ce,{isLoggedIn:n,setAuthUser:a})]})]})}),Object(L.jsxs)(f.a,{className:e.container,children:[Object(L.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(L.jsx)("img",{src:s,style:{height:"300px"},alt:"logo"})}),Object(L.jsx)(h.a,{variant:"body1",color:"primary",align:"center",children:Object(L.jsx)(p.a,{variant:"outlined",color:"secondary",onClick:function(){return d.Test()},children:"Test (Prints in the backend)"})}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsxs)(h.a,{variant:"h3",color:"primary",align:"center",children:["Logged in? ",String(n)]})]}),Object(L.jsx)(v.a,{pt:4,children:Object(L.jsx)(ie,{})})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},de=n(183);n(128);document.title="Flask React",o.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(se,{children:Object(L.jsxs)(P,{children:[Object(L.jsx)(_.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(L.jsx)(de.a,{}),Object(L.jsx)(ue,{})]})})}),document.getElementById("root")),je()}},[[129,1,2]]]);
//# sourceMappingURL=main.5a51174b.chunk.js.map